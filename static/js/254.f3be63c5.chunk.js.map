{"version":3,"file":"static/js/254.f3be63c5.chunk.js","mappings":"2LAGA,MAAMA,EAAQC,EAAQ,KAyFtB,EAvFsBC,KACpB,MAAOC,EAAOC,IAAYC,EAAAA,EAAAA,UAAS,KAC5BC,EAASC,IAAcF,EAAAA,EAAAA,WAAS,GAEjCG,EAAaC,MAAOC,EAAOC,KAC/BJ,GAAW,GACX,IACE,MAAMK,QAAiBZ,EAAMa,IAC3B,6DAA6DH,UAAcC,KAG7EP,GAAUU,IACR,MAAMC,EAAW,IAAID,GAMrB,OALAF,EAASI,KAAKC,SAAQ,CAACC,EAAMC,KAE3BJ,EAASL,EAAQS,GAASD,CAAI,IAEhCE,QAAQC,IAAI,WAAYN,GACjBA,CAAQ,GAEnB,CAAE,MAAOO,GACPF,QAAQE,MAAM,wBAAyBA,EACzC,CAAC,QACCf,GAAW,EACb,IAGFgB,EAAAA,EAAAA,YAAU,KACRf,EAAW,EAAG,IAAI,GACjB,IAEH,MAAMgB,EAAMC,IAAuB,IAAtB,MAAEN,EAAK,MAAEO,GAAOD,EAC3B,MAAMP,EAAOf,EAAMgB,GACnB,OACEQ,EAAAA,EAAAA,KAAA,OACED,MAAOA,EACPE,UAAU,YACVC,KAAK,WACL,aAAYX,EAAO,QAAQA,EAAKY,OAAS,eACzCC,SAAU,EAAGC,SAEZd,GACCe,EAAAA,EAAAA,MAAA,OAAKL,UAAU,eAAcI,SAAA,EAC3BL,EAAAA,EAAAA,KAAA,OACEO,IAAKhB,EAAKiB,SACVC,IAAKlB,EAAKY,KACVF,UAAU,aACVS,QAAUC,GAAOA,EAAEC,OAAOL,IAAM,oCAElCP,EAAAA,EAAAA,KAAA,QAAAK,SAAOd,EAAKY,UAGd,cAEE,EAIV,OACEG,EAAAA,EAAAA,MAAA,OAAKP,MAAO,CAAEc,OAAQ,QAASC,MAAO,QAAST,SAAA,EAC7CL,EAAAA,EAAAA,KAACe,EAAAA,GAAS,CAAAV,SACPW,IAAA,IAAC,OAAEH,EAAM,MAAEC,GAAOE,EAAA,OACjBhB,EAAAA,EAAAA,KAACiB,EAAAA,GAAI,CACHJ,OAAQA,EACRK,UAAW,IACXC,SAAU,GACVL,MAAOA,EACPM,iBAAiB,KACjBlB,KAAK,OACLmB,gBAAiBC,IAA8C,IAA7C,kBAAEC,EAAiB,iBAAEC,GAAkBF,EAClD3C,GACHE,EAAW0C,EAAmBC,EAChC,EACAnB,SAEDR,GACI,IAGVlB,IACCqB,EAAAA,EAAAA,KAAA,OAAKC,UAAU,oBAAoB,YAAU,SAAQI,SAAC,iBAIpD,C","sources":["VirtualScroll.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { FixedSizeList as List } from \"react-window\";\r\nimport AutoSizer from \"react-virtualized-auto-sizer\";\r\nconst axios = require(\"axios\");\r\n\r\nconst VirtualScroll = () => {\r\n  const [items, setItems] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const fetchItems = async (start, stop) => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await axios.get(\r\n        `https://virtual-scroll-app-1.onrender.com/api/items?start=${start}&stop=${stop}`\r\n      );\r\n      // `http://localhost:3001/api/items?start=${start}&stop=${stop}`\r\n      setItems((prevItems) => {\r\n        const newItems = [...prevItems];\r\n        response.data.forEach((item, index) => {\r\n          //placing each fetched item into its correct position in the newItems array.\r\n          newItems[start + index] = item;\r\n        });\r\n        console.log(\"newItems\", newItems);\r\n        return newItems;\r\n      });\r\n    } catch (error) {\r\n      console.error(\"Error fetching items:\", error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchItems(0, 100);\r\n  }, []);\r\n\r\n  const Row = ({ index, style }) => {\r\n    const item = items[index];\r\n    return (\r\n      <div\r\n        style={style}\r\n        className=\"list-item\"\r\n        role=\"listitem\"\r\n        aria-label={item ? `Item ${item.name}` : \"Loading item\"}\r\n        tabIndex={0} // Makes the row focusable by keyboard\r\n      >\r\n        {item ? (\r\n          <div className=\"item-content\">\r\n            <img\r\n              src={item.imageUrl}\r\n              alt={item.name}\r\n              className=\"item-image\"\r\n              onError={(e) => (e.target.src = \"https://via.placeholder.com/50\")} // Fallback image\r\n            />\r\n            <span>{item.name}</span>\r\n          </div>\r\n        ) : (\r\n          \"Loading...\"\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div style={{ height: \"100vh\", width: \"100%\" }}>\r\n      <AutoSizer>\r\n        {({ height, width }) => (\r\n          <List\r\n            height={height}\r\n            itemCount={10000}\r\n            itemSize={50}\r\n            width={width}\r\n            outerElementType=\"ul\" // Adds semantic meaning as a list\r\n            role=\"list\" // ARIA role indicating this is a list\r\n            onItemsRendered={({ visibleStartIndex, visibleStopIndex }) => {\r\n              if (!loading) {\r\n                fetchItems(visibleStartIndex, visibleStopIndex);\r\n              }\r\n            }}\r\n          >\r\n            {Row}\r\n          </List>\r\n        )}\r\n      </AutoSizer>\r\n      {loading && (\r\n        <div className=\"loading-indicator\" aria-live=\"polite\">\r\n          Loading...\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\nexport default VirtualScroll;\r\n"],"names":["axios","require","VirtualScroll","items","setItems","useState","loading","setLoading","fetchItems","async","start","stop","response","get","prevItems","newItems","data","forEach","item","index","console","log","error","useEffect","Row","_ref","style","_jsx","className","role","name","tabIndex","children","_jsxs","src","imageUrl","alt","onError","e","target","height","width","AutoSizer","_ref2","List","itemCount","itemSize","outerElementType","onItemsRendered","_ref3","visibleStartIndex","visibleStopIndex"],"sourceRoot":""}